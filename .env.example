# Server Configuration
PORT=3000
APP_URL=https://your-ngrok-url.ngrok-free.app

# Database (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_USER=wajobs
DB_PASSWORD=your_password
DB_NAME=wajobs

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Scraping Configuration
MAX_PAGES_PER_SCRAPE=3
DEFAULT_SCRAPE_INTERVAL_MINUTES=30

# Cron Schedule (every 5 minutes)
SCRAPE_CHECK_CRON=*/5 * * * *

# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN="your-whatsapp-access-token"
WHATSAPP_PHONE_NUMBER_ID="your-phone-number-id"
WHATSAPP_BUSINESS_ACCOUNT_ID="your-business-account-id"
WHATSAPP_VERSION="v23.0"
WHATSAPP_WEBHOOK_VERIFY_TOKEN="your-verify-token"
WHATSAPP_WEBHOOK_URL="https://your-ngrok-url.ngrok.io/webhook/whatsapp"

# Grok API (xAI) - Required for Langchain service
GROK_API_KEY="your-grok-api-key-here"

# ============================================
# ADMIN AUTHENTICATION
# ============================================
# Basic Auth credentials for /admin/* routes
# Change these to strong credentials in production!
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-password-here

# ============================================
# FEATURE FLAGS - Conversation Systems
# ============================================

# GLOBAL ENABLEMENT - Activate for ALL users
# Set to "true" to enable for everyone, "false" to use specific phone lists
LANGCHAIN_ENABLED_FOR_ALL=false
NLP_ENABLED_FOR_ALL=false

# Langchain + Grok (LLM with structured output)
# Format: Comma-separated phone numbers WITH country code and +
# Example: "+2250123456789,+2250987654321"
# NOTE: Ignored if LANGCHAIN_ENABLED_FOR_ALL=true
LANGCHAIN_CONVERSATION_USERS=""

# NLP.js (Intent classification with ML)
# Format: Comma-separated phone numbers WITH country code and +
# Example: "+2250111111111,+2250222222222"
# NOTE: Ignored if NLP_ENABLED_FOR_ALL=true
NLP_CONVERSATION_USERS=""

# Note: Users not in any list will use XState (default state machine)

# ============================================
# PRIORITY ORDER
# ============================================
# 1. LANGCHAIN_ENABLED_FOR_ALL=true → Everyone uses Langchain
# 2. NLP_ENABLED_FOR_ALL=true → Everyone uses NLP
# 3. LANGCHAIN_CONVERSATION_USERS → Specific users use Langchain
# 4. NLP_CONVERSATION_USERS → Specific users use NLP
# 5. Default → XState for all other users
